<!-- Featured Products -->
<section class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-800 mb-2">Featured Products</h2>
        <p class="text-gray-600">Our most popular products this season</p>
      </div>
      <a routerLink="/products" class="text-indigo-600 hover:text-indigo-800 font-medium">View All <i class="pi pi-arrow-right ml-1"></i></a>
    </div>

    @if (featuredProducts.length > 0) {
      <p-carousel [value]="featuredProducts" [numVisible]="4" [numScroll]="1" [circular]="true"
                 [responsiveOptions]="responsiveOptions" styleClass="custom-product-carousel">
        <ng-template let-product pTemplate="item">
          <div class="product-card bg-white rounded-xl overflow-hidden shadow-md transition duration-300 m-2">
            <div class="relative">
              <img [src]="product.image" [alt]="product.name" class="w-full h-64 object-cover">
              <div class="absolute top-3 right-3 flex flex-col space-y-2">
                <button pButton class="p-button-rounded p-button-text text-gray-600 bg-white w-8 h-8 flex items-center justify-center"
                        [ngClass]="{'text-red-500': product.isFavorite}"
                        icon="pi pi-heart" (click)="toggleWishlist(product, $event)"></button>
                <button pButton class="p-button-rounded p-button-text text-gray-600 bg-white w-8 h-8 flex items-center justify-center"
                        icon="pi pi-eye" (click)="viewProduct(product)"></button>
              </div>
              @if (product.discount) {
                <div class="absolute bottom-3 left-3 bg-indigo-600 text-white text-xs px-2 py-1 rounded">{{product.discount}}</div>
              }
              @if (product.isNew) {
                <div class="absolute bottom-3 left-3 bg-indigo-600 text-white text-xs px-2 py-1 rounded">New</div>
              }
            </div>
            <div class="p-4">
              <div class="flex justify-between items-start mb-2">
                <h3 class="font-semibold text-gray-800">{{product.name}}</h3>
                <div class="flex items-center">
                  <p-rating [ngModel]="product.rating" [readonly]="true" [stars]="5"></p-rating>
                  <span class="text-gray-600 text-sm ml-1">{{product.rating | number:'1.1-1'}}</span>
                </div>
              </div>
              <p class="text-gray-600 text-sm mb-3">{{product.description | truncate:50}}</p>
              <div class="flex justify-between items-center">
                <div>
                  <span class="text-indigo-600 font-bold">${{product.price | number:'1.2-2'}}</span>
                  @if (product.originalPrice) {
                    <span class="text-gray-400 text-sm line-through ml-2">${{product.originalPrice | number:'1.2-2'}}</span>
                  }
                </div>
                <button pButton class="p-button-rounded p-button-text bg-indigo-100 text-indigo-600 hover:bg-indigo-600 hover:text-white w-8 h-8 flex items-center justify-center"
                        icon="pi pi-shopping-cart" (click)="addToCart(product, $event)"></button>
              </div>
            </div>
          </div>
        </ng-template>
      </p-carousel>
    } @else {
      <div class="text-center py-8">
        <p class="text-gray-500">No featured products available at the moment.</p>
      </div>
    }
 
</section>
